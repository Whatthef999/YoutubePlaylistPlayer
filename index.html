<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>YouTube Playlist Player</title>
<style>
body { font-family: Arial, sans-serif; max-width: 800px; margin: 20px auto; padding: 0 20px; background: radial-gradient(circle at top, #111 0%, #000 60%); color: #eee; }
#player { width: 100%; height: 400px; background: #000; margin-bottom: 15px; border-radius: 8px; border: 1px solid #330000; box-shadow: 0 0 25px rgba(255,0,0,0.25); }
.controls { display: flex; justify-content: center; gap: 10px; margin-bottom: 15px; }
.btn { padding: 10px 20px; border-radius: 6px; border: 1px solid #660000; cursor: pointer; font-weight: bold; background: linear-gradient(180deg, #ff1a1a, #990000); color: #fff; }
.btn.off { background: linear-gradient(180deg, #333, #111); border-color: #333; color: #aaa; }
.playlist-container { display: flex; flex-direction: column; gap: 10px; }
.video-item { padding: 14px; background: #111; border-radius: 6px; cursor: pointer; border-left: 4px solid transparent; }
.video-item.active { border-left: 4px solid #ff0000; background: #2a0000; }
.error { color: #ff3333; text-align: center; margin-top: 10px; }

/* CUSTOM DROPDOWN STYLES */
.custom-dropdown {
  width: 100%;
  max-width: 400px;
  margin: 0 auto 10px auto;
  position: relative;
}

.dropdown-btn {
  width: 100%;
  padding: 12px;
  border-radius: 6px;
  border: 1px solid #660000;
  background: linear-gradient(180deg, #111, #000);
  color: #fff;
  font-weight: bold;
  cursor: pointer;
  text-align: left;
}

.arrow {
  float: right;
}

.dropdown-options {
  display: none;
  position: absolute;
  width: 100%;
  background: linear-gradient(180deg, #111, #000);
  border: 1px solid #660000;
  border-top: none;
  border-radius: 0 0 6px 6px;
  z-index: 10;
}

.dropdown-option {
  padding: 12px;
  cursor: pointer;
  border-bottom: 1px solid #660000;
  font-weight: bold;
}

.dropdown-option:last-child {
  border-bottom: none;
}

.dropdown-option:hover {
  background: #2a0000;
}
</style>
</head>
<body>

<div id="player"></div>

<!-- CUSTOM CHANNEL DROPDOWN -->
<div class="custom-dropdown" id="channelDropdown">
  <button class="dropdown-btn" id="dropdownBtn">
    üì∫ Channel: <span id="dropdownLabel">Metal Live</span>
    <span class="arrow">‚ñº</span>
  </button>
  <div class="dropdown-options" id="dropdownOptions"></div>
</div>

<div class="controls">
  <button id="prevBtn" class="btn">‚èÆ Prev</button>
  <button id="shuffleBtn" class="btn">üîÄ Shuffle: ON</button>
  <button id="nextBtn" class="btn">‚è≠ Skip</button>
</div>

<div id="error-message" class="error"></div>
<div id="playlist" class="playlist-container"></div>

<script>
const channels = [
  {
    name: "Alternative Metal",
    playlist: [
      { id: '7RGB34-6C3Y', title: 'Disturbed - Austin City Limites Festival 2018' },
      { id: 'PpTSMsnpGMI', title: 'Godsmack - Changes' },
      { id: 'nq0e0r1byhg', title: 'Lacuna Coil - Live Graspop Metal Meeting 2018' },
      { id: 'D91NZNB3Fpo', title: 'Linkin Park - Live at Circuito Banco do Brasil 2014' },
      { id: 'YD0XLsNnU4Q', title: 'System Of A Down - Pinkpop 2017' }
    ]
  },
  {
    name: "Black Metal",
    playlist: [
      { id: 'wGeqVuajSIA', title: 'Behemoth - Brutal Assault 2016' },
      { id: 'KbvopHPw80c', title: 'Behemoth - Wacken Open Air 2022' },
      { id: '73jvwDftQKI', title: 'Batushka - Graspop 2018' },
      { id: 'fmy7ALBUYrE', title: 'Carpathian Forest - Wacken Open Air 2003' },
      { id: 'Ec3pox39SB8', title: 'Dark Funeral - Foundry Concert Club 2018' },
      { id: 'IhFDh2OnfZQ', title: 'Mayhem - Live at Wacken Open Air 2017' },
      { id: 'VhoHnKuf-HI', title: 'Satyricon with the Norwegian National Opera Chorus' },
      { id: 'Kh_agTBXVUw', title: 'SHINING - Live at Tyrant Fest 2017' },
      { id: 'ooVHrqR6HSg', title: 'Shining - Live at Wacken Open Air 2015' },
      { id: 'Oeq4nY40zuA', title: 'Thron - Pilgrim' },
      { id: 'GbgDSHB0ceo', title: 'TRIPTYKON - Wacken 2016' },
      { id: 'L5xxPu1KNK0', title: 'URGEHAL - Forest Fest, Chevenez 2022' }
    ]
  },
  {
    name: "Deathcore",
    playlist: [
      { id: 'qKlKiSV67OU', title: 'Slaughter to Prevail - LIVE BLUE RIDGE ROCK FESTIVAL 2022' }
    ]
  },
  {
    name: "Death Metal",
    playlist: [
      { id: 'djxrWuLXGyw', title: 'Amon Amarth - Bloodstock 2017' },
      { id: '7q0WutahPiU', title: 'Nile - Live at Rockstadt Extreme Fest 2017' },
      { id: 'So6uDI0M-40', title: 'Parasite Inc. - Live at the EMFA 2020 ' },
      { id: 'pZTJg7MXQMg', title: 'POSSESSED - Bloodstock 2017' },
      { id: 'N4UMwF5zIqw', title: 'Septic flesh - Infernus Sinfonica MMXIX ' },
      { id: '0DLYHAZDRuo', title: 'Suffocation - Live at Rockstadt Extreme Fest 2017' },
      { id: 'RSiYA4wxnME', title: 'Vader - Rise of the Empire Asia Tour 2022' }
    ]
  },
  {
    name: "Doom Metal",
    playlist: [
      { id: 'w5qmjNe7RVE', title: 'SLEEP live at Hellfest 2013' },
      { id: 'V89JtjisHr4', title: 'SLEEP live at Regency Ballroom 2016 ' }
    ]
  },
  {
    name: "Folk Metal",
    playlist: [
      { id: 'wA2U2iIoM9U', title: 'Ensiferum - 10th Anniversary Helsinki Finland 2006' },
      { id: 'qfGDrPNZLuk', title: 'KORPIKLAANI - Live at Masters of Rock 2014' }
    ]
  },
  {
    name: "Groove Metal",
    playlist: [
      { id: 'nxE0UwVLeCU', title: 'Pantera Live in Dresden 2023' },
      { id: '1nid4I33Fx4', title: 'Sepultura - EXIT 2022 Live Main Stage' },
      { id: 'BTLO0bup0kw', title: 'DevilDriver - Bloodstock 2018' },
      { id: 'GuOQxYxWntU', title: 'GOJIRA - Hellfest 2019' },
      { id: '7Vqdv6o_6xA', title: 'JINJER - Live At Gramercy Theater NYC' },
      { id: 'P0iQ9j6qOgY', title: 'JINJER - Live Full Set Performance - Bloodstock 2022' },
      { id: '5ZYmTn6FvMs', title: 'Lamb of God ‚Äì Full Bloodstock 2022' },
      { id: 'jIyvpnh42Vw', title: 'Machine Head - Live Rock am Ring 2012' },
      { id: 'xFA8z3JzxRA', title: 'Soulfly at PolandRock Festival 2018' }
    ]
  },
  {
    name: "Hardcore",
    playlist: [
      { id: 'Xigg9UjWJNg', title: 'Hatebreed - Live Dominance' }
    ]
  },
  {
    name: "Heavy Metal",
    playlist: [
      { id: 'DGNwoBK59ag', title: 'King Diamond - Songs for the Dead Live - The Fillmore in Philadelphia, PA' },
      { id: '8wP5WFZmB3A', title: 'Motorhead - Live At Wacken Open Air 2006' },
      { id: 'ioEudvwrY88', title: 'Night Demon ‚Äì Live at Rock Hard Festival 2022' }
    ]
  },
  {
    name: "Horror Punk",
    playlist: [
      { id: 'pMhv4sUucVA', title: 'WEDNESDAY 13 - Bloodstock 2018' }
    ]
  },
  {
    name: "Industrial Metal",
    playlist: [
      { id: '_CAyeLYAgW4', title: 'Null Positiv Live 2020' },
      { id: 'L5xxPu1KNK0', title: 'Static X - Los Angeles 2023' }
    ]
  },
  {
    name: "Metalcore",
    playlist: [
      { id: 'NoIOSQ-TdQM', title: 'Asking Alexandria - Rock Am Ring 2013' },
      { id: 'KgFKXpNGBaU', title: "Avatar - Poland'Rock Festival 2019" },
      { id: 'X_5by1Bsj1w', title: 'Bring Me The Horizon - Graspop Metal Meeting 2014' },
      { id: 'khFm78lRRR4', title: 'Bullet For My Valentine - Hellfest 2018' },
      { id: 'Spj3t4gY9Do', title: 'Butcher Babies - Bloodstock 2022' }
    ]
  },
  {
    name: "Nu Metal",
    playlist: [
      { id: 'FmWRkb_x5po', title: 'Sodom - Mortal Way Of Live 1988' },
      { id: 'zW2WtZsPbZM', title: 'Korn - Live SummerBreeze Festival 2017 ' },
      { id: 'Y2ZIsM9EDQk', title: 'Limp Bizkit - Live at Monsters of Rock Brazil 2013' },
      { id: 'QO3j9niG1Og', title: 'Slipknot: Live at Download Festival 2019' }
    ]
  },
  {
    name: "NWOBHM",
    playlist: [
      { id: '6SPfkI-gxCw', title: 'Iron Maiden - Flight 666' },
      { id: 'BT_tNxr2V7A', title: 'Judas Priest - Live in London' },
      { id: 'cqcF7FhePfo', title: 'Judas Priest - Graspop Metal Meeting 2008' },
      { id: '9JtJ8GdNXLc', title: 'Venom - Dynamo Open Air 1996' }
    ]
  },
  {
    name: "Power Metal",
    playlist: [
      { id: 'FZPIlJtHNTc', title: 'Hammerfall - Wacken 2012' },
      { id: '3ItDXbc1V10', title: 'Helloween - Live - Full Concert' },
      { id: 'NcOa01GUSZs', title: 'LABYRINTH - RETURN TO LIVE' }
    ]
  },
  {
    name: "Progressive Metal",
    playlist: [
      { id: 'F5b3laSpOKQ', title: 'Dream Theater - London 2020' },
      { id: 'B0fPY9PPB2E', title: 'Dream Theater - Wacken 2015' },
      { id: 'PjSsN6wjtDU', title: 'Pagans Mind - Full Circle' }
    ]
  },
  {
    name: "Symphonic Metal",
    playlist: [
      { id: 'ChlEfvb-a8s', title: 'NIGHTWISH - Headlining BLOODSTOCK OPEN AIR 2018' }
    ]
  },
  {
    name: "Thrash Metal",
    playlist: [
      { id: 'uwA8Otylwvk', title: 'Annihilator - Masters of Rock 2008' },
      { id: '4ShjYeZIya8', title: 'Exodus - Graspop 2018' },
      { id: '4Ogmlw4oFo4', title: 'Kreator - Live in Chile (Live At Movistar Arena)' },
      { id: 'QP9Q-fGcDQc', title: 'KREATOR - LIVE IN WACKEN 2011' },
      { id: 'qFedMfsTIoc', title: 'Megadeth - Live at Graspop Metal Meeting 2022' },
      { id: '6esCKTJoM4M', title: 'Metallica - Live at Outside Lands - San Francisco, CA 2017' },
      { id: 'mJje9Xpp5GE', title: 'Metallica - Live in Manchester England - 2019' },
      { id: 'heHrSkccb3E', title: 'OBITUARY - Crushing Full Set Live at Bloodstock 2017' },
      { id: 'FmWRkb_x5po', title: 'Sodom - Mortal Way Of Live 1988' }
    ]
  },
  {
    name: "90s Black Metal",
    playlist: [
      { id: '_wY_3B7ToG0', title: 'Enslaved - Live 23 Jul. 1995' },
      { id: 'EPcfeO10tWc', title: 'Beherit Live 1990' },
      { id: 'hL97wX4Onj4', title: 'Dark Funeral - Live in Finland' },
      { id: '15hCXxUAs_s', title: 'Dark Funeral Live Debut - Oslo 1994 Lusa Lottes Pub My Dark Desires' },
      { id: 'F8Jn4qeGbtA', title: 'Aura Noir Live 1998' },
      { id: '0WXKOJVEzdY', title: 'Satyricon Live in Netherlands 1996' },
      { id: 'D5wFlUkc57I', title: 'Zyklon EmperorMyrkskog Live in Norway' },
      { id: 'kpZw9XDwshc', title: 'Old Funeral Last Concert Live in Finland, Karjalantalo 1992 Joensuu' },
      { id: 'Zv1e1OR-O-c', title: 'Impaled Nazarene Live in Joensuu 1993 Finland' },
      { id: '08tS5-XdajE', title: 'Morbid DeadPelle Live in Sweden 1988' },
      { id: 'Bhx-ssm814g', title: 'Darkthrone Live in Oslo 1996' },
      { id: 'uUi-Mi6RUwA', title: 'Dissection Live in Sweden - 1995' },
      { id: 'bUNar6OyoU', title: 'Enthroned Live in Biella 1998' },
      { id: 'CymzU2PnmKI', title: 'Dimmu Borgir Live in Oslo - 1996' },
      { id: 'ios1Ls9jdUI', title: 'Gorgoroth - 1995 Live in UK London' },
      { id: 'rdw_HesWQL4', title: 'DISSECTION Live in Norrk√∂ping 1993' },
      { id: 'NzpY11PT6X0', title: 'Marduk Live in Varese IT feb.1995' },
      { id: 'FZcydTAwIkc', title: 'Funeral Winds Live in 1992' },
      { id: 'aY4CkcH0Z40', title: 'Ancient - Live in Sweden 1994' },
      { id: '8J-_XG5Ya3o', title: 'Mayhem - Milan 1998 Attila & Maniac' },
      { id: 'aeRGxVcThCM', title: 'Old Funeral - Live Bergen 1991' },
      { id: '2DhtwoeUSKg', title: 'Early Emperor Live 1991 Thou Shalt Suffer Live in Notodden, Norway' },
      { id: 'IhPBFmJvUYw', title: 'ABSU Rome - April 30, 1995' },
      { id: 'TplWC8D0C_s', title: 'Dissection - Live in Oslo 1994 Lusa Lottes Pub' },
      { id: 'JJgLNpfzV_c', title: 'Marduk Live in Oslo 1994 Lusa Lottes Pub' },
      { id: 'l0c83U0T4Ag', title: 'Varg Vikernes LIVE wOld Funeral Live at Garage, Bergen 1991' },
      { id: 'CHkFg2BBjWo', title: 'Marduk  Live in UK Oct. 1996' },
      { id: 'o2WOGlPTz90', title: 'Sarcofago Live in Peru Lima 1993' },
      { id: 'abIdhLtIBo8', title: 'Tiamat Live in Sweden 1991' },
      { id: 'vzdbOwnBb7Q', title: 'ABSU Live in Turin 1995' },
      { id: 'QnprcrqCbBw', title: 'Grotesque Live in G√∂teborg 1990' },
      { id: 'BGCQ4KI5_i8', title: 'Merciless Live in Sweden 1990 Sandviken' },
      { id: 'PrqvYHVeLmg', title: 'Samael Live in Belgium 1992' },
      { id: 'GaWjw861jVU', title: 'Death Mission Live in Jessheim 1990' },
      { id: 'yXOHvoI81Ko', title: 'Grave Live in Sweden 1990' },
      { id: 'wupsZI2z35E', title: 'Morbid wDead Live at Ultrahuset Stockholm 1987' },
      { id: 'hHcDGmphuWI', title: 'Immortal Live in France 1999' },
      { id: 'UOpgefIg0M8', title: 'Samael Live in Holland 1992' },
      { id: 'rtu8hFYppwI', title: 'Gorgoroth Live in Germany 1996 Werra-Rh√∂n-Halle' },
      { id: 'nuRdLM7k-5E', title: 'Old Funeral wVikernes Live in Bergen 1991' },
      { id: 'J8FYKCMmIJE', title: 'SETHERIAL - Shades over universe - Knaack club Berlin 1997' }
    ]
  },
];

let activeChannel = 0;
let playlist = channels[activeChannel].playlist;

let player;
let currentIndex = 0;
let shuffleEnabled = true;
let shuffleQueue = [];
let shufflePos = 0;

function buildShuffleQueue(startIndex = 0) {
  shuffleQueue = playlist.map((_, i) => i);
  shuffleQueue.sort(() => Math.random() - 0.5);
  const pos = shuffleQueue.indexOf(startIndex);
  [shuffleQueue[0], shuffleQueue[pos]] = [shuffleQueue[pos], shuffleQueue[0]];
  shufflePos = 0;
}

function switchChannel(channelIndex) {
  activeChannel = channelIndex;
  playlist = channels[activeChannel].playlist;
  currentIndex = 0;

  document.getElementById('dropdownLabel').textContent = channels[activeChannel].name;
  buildShuffleQueue(0);
  renderPlaylist();
  playVideo(0);
}

function renderChannelOptions() {
  const options = document.getElementById('dropdownOptions');
  options.innerHTML = '';

  channels.forEach((ch, idx) => {
    const opt = document.createElement('div');
    opt.className = 'dropdown-option';
    opt.textContent = ch.name;
    opt.onclick = () => {
      switchChannel(idx);
      toggleDropdown(false);
    };
    options.appendChild(opt);
  });

  document.getElementById('dropdownLabel').textContent = channels[activeChannel].name;
}

function toggleDropdown(open) {
  const options = document.getElementById('dropdownOptions');
  options.style.display = open ? 'block' : 'none';
}

window.onYouTubeIframeAPIReady = function () {
  player = new YT.Player('player', {
    videoId: playlist[0].id,
    playerVars: {
      'autoplay': 0,
      'controls': 1,
      'rel': 0,
      'showinfo': 0,
      'modestbranding': 1,
      'iv_load_policy': 3,
      'annotations': false,
      'cc_load_policy': 0
    },
    events: {
      onStateChange: onPlayerStateChange,
      onError: onPlayerError
    }
  });

  renderChannelOptions();
  buildShuffleQueue(0);
  renderPlaylist();
  highlight();
};

function onPlayerStateChange(e) {
  if (e.data === YT.PlayerState.ENDED) playNext();
}

function onPlayerError(e) {
  document.getElementById('error-message').textContent = `Playback error (Code ${e.data})`;
  setTimeout(playNext, 1000);
}

function playVideo(index) {
  currentIndex = index;
  player.loadVideoById({
    'videoId': playlist[index].id,
    'startSeconds': 0,
    'suggestedQuality': 'large'
  });
  highlight();
  document.getElementById('error-message').textContent = '';
}

function playNext() {
  if (shuffleEnabled) {
    shufflePos++;
    if (shufflePos >= shuffleQueue.length) {
      buildShuffleQueue(currentIndex);
      shufflePos = 1;
    }
    playVideo(shuffleQueue[shufflePos]);
  } else {
    playVideo((currentIndex + 1) % playlist.length);
  }
}

function playPrev() {
  if (shuffleEnabled) {
    shufflePos = Math.max(0, shufflePos - 1);
    playVideo(shuffleQueue[shufflePos]);
  } else {
    playVideo((currentIndex - 1 + playlist.length) % playlist.length);
  }
}

function highlight() {
  document.querySelectorAll('.video-item').forEach((el, i) => {
    el.classList.toggle('active', i === currentIndex);
  });
}

function renderPlaylist() {
  const pl = document.getElementById('playlist');
  pl.innerHTML = '';
  playlist.forEach((v, i) => {
    const d = document.createElement('div');
    d.className = 'video-item';
    d.textContent = v.title;
    d.onclick = () => {
      if (shuffleEnabled) buildShuffleQueue(i);
      playVideo(i);
    };
    pl.appendChild(d);
  });
}

document.getElementById('nextBtn').onclick = playNext;
document.getElementById('prevBtn').onclick = playPrev;
document.getElementById('shuffleBtn').onclick = function () {
  shuffleEnabled = !shuffleEnabled;
  this.textContent = `üîÄ Shuffle: ${shuffleEnabled ? 'ON' : 'OFF'}`;
  this.classList.toggle('off', !shuffleEnabled);
  if (shuffleEnabled) buildShuffleQueue(currentIndex);
};

document.getElementById('dropdownBtn').onclick = () => {
  const options = document.getElementById('dropdownOptions');
  toggleDropdown(options.style.display !== 'block');
};

document.addEventListener('click', (e) => {
  const dropdown = document.getElementById('channelDropdown');
  if (!dropdown.contains(e.target)) toggleDropdown(false);
});

const tag = document.createElement('script');
tag.src = 'https://www.youtube.com/iframe_api';
document.body.appendChild(tag);
</script>
</body>
</html>

















