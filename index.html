<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube Playlist Player</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 20px auto;
            padding: 0 20px;
            background: radial-gradient(circle at top, #111 0%, #000 60%);
            color: #eee;
        }

        #player {
            width: 100%;
            height: 400px;
            background: #000;
            margin-bottom: 15px;
            border-radius: 8px;
            border: 1px solid #330000;
            box-shadow: 0 0 25px rgba(255,0,0,0.25);
        }

        .controls {
            display: flex;
            justify-content: center;
            margin-bottom: 15px;
        }

        .shuffle-btn {
            padding: 10px 20px;
            border-radius: 6px;
            border: 1px solid #660000;
            cursor: pointer;
            font-weight: bold;
            background: linear-gradient(180deg, #ff1a1a, #990000);
            color: #fff;
            text-shadow: 0 0 5px rgba(0,0,0,0.8);
            box-shadow: 0 0 12px rgba(255,0,0,0.5);
            transition: all 0.2s ease;
        }

        .shuffle-btn:hover {
            box-shadow: 0 0 18px rgba(255,0,0,0.9);
            transform: translateY(-1px);
        }

        .shuffle-btn.off {
            background: linear-gradient(180deg, #333, #111);
            border-color: #333;
            box-shadow: none;
            color: #aaa;
        }

        .playlist-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .video-item {
            padding: 14px;
            background: linear-gradient(180deg, #111, #070707);
            border-radius: 6px;
            cursor: pointer;
            border-left: 4px solid transparent;
            box-shadow: inset 0 0 0 1px #1a1a1a;
            transition: all 0.2s ease;
        }

        .video-item:hover {
            background: #1a0000;
            box-shadow: 0 0 10px rgba(255,0,0,0.3);
        }

        .video-item.active {
            border-left: 4px solid #ff0000;
            background: linear-gradient(90deg, #2a0000, #0a0000);
            box-shadow: 0 0 15px rgba(255,0,0,0.5);
        }

        .error {
            color: #ff3333;
            margin-top: 10px;
            font-weight: bold;
            text-align: center;
            text-shadow: 0 0 6px rgba(255,0,0,0.6);
        }
    </style>
</head>

<body>

    <div id="player"></div>

    <div class="controls">
        <button id="shuffleBtn" class="shuffle-btn">
            ðŸ”€ Shuffle: ON
        </button>
    </div>

    <div id="error-message" class="error"></div>
    <div class="playlist-container" id="playlist"></div>

    <script>
        const playlist = [
            { id: 'uwA8Otylwvk', title: 'Annihilator - Masters of Rock 2008' },
            { id: 'djxrWuLXGyw', title: 'Amon Amarth - Bloodstock 2017' },
            { id: 'NoIOSQ-TdQM', title: 'Asking Alexandria - Rock Am Ring 2013' }
            { id: 'KgFKXpNGBaU', title: 'Avatar - Pol'and'Rock Festival 2019' }
        ];

        let player;
        let currentVideoIndex = 0;
        let shuffleEnabled = true;

        window.onYouTubeIframeAPIReady = function () {
            player = new YT.Player('player', {
                height: '400',
                width: '100%',
                videoId: playlist[0].id,
                playerVars: {
                    autoplay: 0,
                    controls: 1,
                    rel: 0,
                    modestbranding: 1
                },
                events: {
                    onReady: onPlayerReady,
                    onStateChange: onPlayerStateChange,
                    onError: onPlayerError
                }
            });

            renderPlaylist();
        };

        function onPlayerReady() {
            highlightCurrentVideo();
        }

        function onPlayerStateChange(event) {
            if (event.data === YT.PlayerState.ENDED) {
                playNextVideo();
            }
        }

        function onPlayerError(event) {
            document.getElementById('error-message').textContent =
                `Playback error (Code ${event.data}). Skippingâ€¦`;
            setTimeout(playNextVideo, 1500);
        }

        function playVideo(videoId, index) {
            player.loadVideoById(videoId);
            currentVideoIndex = index;
            highlightCurrentVideo();
            document.getElementById('error-message').textContent = '';
        }

        function playNextVideo() {
            if (shuffleEnabled) {
                let nextIndex;
                do {
                    nextIndex = Math.floor(Math.random() * playlist.length);
                } while (nextIndex === currentVideoIndex);

                playVideo(playlist[nextIndex].id, nextIndex);
            } else {
                currentVideoIndex = (currentVideoIndex + 1) % playlist.length;
                playVideo(playlist[currentVideoIndex].id, currentVideoIndex);
            }
        }

        function highlightCurrentVideo() {
            document.querySelectorAll('.video-item').forEach((el, i) => {
                el.classList.toggle('active', i === currentVideoIndex);
            });
        }

        function renderPlaylist() {
            const container = document.getElementById('playlist');
            container.innerHTML = '';

            playlist.forEach((video, index) => {
                const item = document.createElement('div');
                item.className = 'video-item';
                item.innerHTML = `<strong>${video.title}</strong>`;
                item.onclick = () => playVideo(video.id, index);
                container.appendChild(item);
            });
        }

        const shuffleBtn = document.getElementById('shuffleBtn');
        shuffleBtn.onclick = () => {
            shuffleEnabled = !shuffleEnabled;
            shuffleBtn.textContent = `ðŸ”€ Shuffle: ${shuffleEnabled ? 'ON' : 'OFF'}`;
            shuffleBtn.classList.toggle('off', !shuffleEnabled);
        };

        const tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        document.body.appendChild(tag);
    </script>

</body>
</html>


</html>




